---
title: "HTTPS 基础"
description: "加密通信的 HTTP"
date: 2020-10-15
slug: "/https-base"
tags:
  - Android
---

客户端和服务端通过非对称加密协商出一套对称秘钥，然后使用这套对称加密对发送的数据加密，对收到的数据解密，从而进行加密通信。

### 无条件信任的根证书

在整个 HTTPS 建立的过程，需要有一个无条件信任的根证书。这个根证书是要来验证服务器发送过来证书是否合法的关键。

## HTTPS 连接

1. ClientHello
2. ServerHello
3. 服务器证书信任建立（依赖根证书）同时会验证主机名是正确的
4. Pre-masterSecret
5. 客户端通知:将使用加密通信（客户端加密秘钥，服务端加密秘钥）
6. 客户端发送:Finished
7. 服务器通知:将使用加密通信（客户端加密秘钥，服务端加密秘钥）
8. 服务器发送:Finished
